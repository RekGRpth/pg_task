\unset ECHO
1..153
ok 1 - Schema public should exist
ok 2 - Enum public.state should exist
ok 3 - Enum public.state should have labels (PLAN, TAKE, WORK, DONE, FAIL, STOP)
ok 4 - Table public.task should exist
ok 5 - Column task.id should exist
ok 6 - Column task.parent should exist
ok 7 - Column task.plan should exist
ok 8 - Column task.start should exist
ok 9 - Column task.stop should exist
ok 10 - Column task.live should exist
ok 11 - Column task.timeout should exist
ok 12 - Column task.repeat should exist
ok 13 - Column task.hash should exist
ok 14 - Column task.count should exist
ok 15 - Column task.max should exist
ok 16 - Column task.pid should exist
ok 17 - Column task.state should exist
ok 18 - Column task.delete should exist
ok 19 - Column task.drift should exist
ok 20 - Column task.header should exist
ok 21 - Column task.string should exist
ok 22 - Column task.delimiter should exist
ok 23 - Column task.escape should exist
ok 24 - Column task.quote should exist
ok 25 - Column task.error should exist
ok 26 - Column task."group" should exist
ok 27 - Column task.input should exist
ok 28 - Column task."null" should exist
ok 29 - Column task.output should exist
ok 30 - Column task.remote should exist
ok 31 - Column public.task.id should be NOT NULL
ok 32 - Column public.task.plan should be NOT NULL
ok 33 - Column public.task.live should be NOT NULL
ok 34 - Column public.task.timeout should be NOT NULL
ok 35 - Column public.task.repeat should be NOT NULL
ok 36 - Column public.task.hash should be NOT NULL
ok 37 - Column public.task.count should be NOT NULL
ok 38 - Column public.task.max should be NOT NULL
ok 39 - Column public.task.state should be NOT NULL
ok 40 - Column public.task.delete should be NOT NULL
ok 41 - Column public.task.drift should be NOT NULL
ok 42 - Column public.task.header should be NOT NULL
ok 43 - Column public.task.string should be NOT NULL
ok 44 - Column public.task.delimiter should be NOT NULL
ok 45 - Column public.task."group" should be NOT NULL
ok 46 - Column public.task.input should be NOT NULL
ok 47 - Column public.task."null" should be NOT NULL
ok 48 - Column public.task.parent should allow NULL
ok 49 - Column public.task.start should allow NULL
ok 50 - Column public.task.stop should allow NULL
ok 51 - Column public.task.pid should allow NULL
ok 52 - Column public.task.escape should allow NULL
ok 53 - Column public.task.quote should allow NULL
ok 54 - Column public.task.error should allow NULL
ok 55 - Column public.task.output should allow NULL
ok 56 - Column public.task.remote should allow NULL
ok 57 - Column task.id should have a default
ok 58 - Column task.parent should have a default
ok 59 - Column task.plan should have a default
ok 60 - Column task.live should have a default
ok 61 - Column task.timeout should have a default
ok 62 - Column task.repeat should have a default
ok 63 - Column task.hash should have a default
ok 64 - Column task.count should have a default
ok 65 - Column task.max should have a default
ok 66 - Column task.state should have a default
ok 67 - Column task.delete should have a default
ok 68 - Column task.drift should have a default
ok 69 - Column task.header should have a default
ok 70 - Column task.string should have a default
ok 71 - Column task.delimiter should have a default
ok 72 - Column task."group" should have a default
ok 73 - Column task."null" should have a default
ok 74 - Column task.start should not have a default
ok 75 - Column task.stop should not have a default
ok 76 - Column task.pid should not have a default
ok 77 - Column task.escape should not have a default
ok 78 - Column task.quote should not have a default
ok 79 - Column task.error should not have a default
ok 80 - Column task.input should not have a default
ok 81 - Column task.output should not have a default
ok 82 - Column task.remote should not have a default
ok 83 - Column public.task.id should be type bigint
ok 84 - Column public.task.parent should be type bigint
ok 85 - Column public.task.plan should be type timestamp with time zone
ok 86 - Column public.task.start should be type timestamp with time zone
ok 87 - Column public.task.stop should be type timestamp with time zone
ok 88 - Column public.task.live should be type interval
ok 89 - Column public.task.timeout should be type interval
ok 90 - Column public.task.repeat should be type interval
ok 91 - Column public.task.hash should be type integer
ok 92 - Column public.task.count should be type integer
ok 93 - Column public.task.max should be type integer
ok 94 - Column public.task.pid should be type integer
ok 95 - Column public.task.state should be type public.state
ok 96 - Column public.task.delete should be type boolean
ok 97 - Column public.task.drift should be type boolean
ok 98 - Column public.task.header should be type boolean
ok 99 - Column public.task.string should be type boolean
ok 100 - Column public.task.delimiter should be type char
ok 101 - Column public.task.escape should be type char
ok 102 - Column public.task.quote should be type char
ok 103 - Column public.task.error should be type text
ok 104 - Column public.task."group" should be type text
ok 105 - Column public.task.input should be type text
ok 106 - Column public.task."null" should be type text
ok 107 - Column public.task.output should be type text
ok 108 - Column public.task.remote should be type text
ok 109 - Column task.id should default to 'nextval(''task_id_seq''::regclass)'
ok 110 - Column task.parent should default to '(current_setting(''pg_task.id''::text, true))::bigint'
ok 111 - Column task.plan should default to 'CURRENT_TIMESTAMP'
ok 112 - Column task.live should default to '0 sec'
ok 113 - Column task.timeout should default to '0 sec'
ok 114 - Column task.repeat should default to '0 sec'
ok 115 - Column task.hash should default to 'hashtext(("group" || COALESCE(remote, ''''::text)))'
ok 116 - Column task.count should default to '0'
ok 117 - Column task.max should default to '(current_setting(''pg_task.default_max''::text, false))::integer'
ok 118 - Column task.state should default to 'PLAN'
ok 119 - Column task.delete should default to '(current_setting(''pg_task.default_delete''::text, false))::boolean'
ok 120 - Column task.drift should default to '(current_setting(''pg_task.default_drift''::text, false))::boolean'
ok 121 - Column task.header should default to '(current_setting(''pg_task.default_header''::text, false))::boolean'
ok 122 - Column task.string should default to '(current_setting(''pg_task.default_string''::text, false))::boolean'
ok 123 - Column task.delimiter should default to '(current_setting(''pg_task.default_delimiter''::text, false))::"char"'
ok 124 - Column task."group" should default to 'current_setting(''pg_task.default_group''::text, false)'
ok 125 - Column task."null" should default to 'current_setting(''pg_task.default_null''::text, false)'
ok 126 - Table task should not have a primary key
ok 127 - Column task(id) should not be a primary key
ok 128 - Column task(parent) should not be a primary key
ok 129 - Column task(plan) should not be a primary key
ok 130 - Column task(start) should not be a primary key
ok 131 - Column task(stop) should not be a primary key
ok 132 - Column task(live) should not be a primary key
ok 133 - Column task(timeout) should not be a primary key
ok 134 - Column task(repeat) should not be a primary key
ok 135 - Column task(hash) should not be a primary key
ok 136 - Column task(count) should not be a primary key
ok 137 - Column task(max) should not be a primary key
ok 138 - Column task(pid) should not be a primary key
ok 139 - Column task(state) should not be a primary key
ok 140 - Column task(delete) should not be a primary key
ok 141 - Column task(drift) should not be a primary key
ok 142 - Column task(header) should not be a primary key
ok 143 - Column task(string) should not be a primary key
ok 144 - Column task(delimiter) should not be a primary key
ok 145 - Column task(escape) should not be a primary key
ok 146 - Column task(quote) should not be a primary key
ok 147 - Column task(error) should not be a primary key
ok 148 - Column task("group") should not be a primary key
ok 149 - Column task(input) should not be a primary key
ok 150 - Column task("null") should not be a primary key
ok 151 - Column task(output) should not be a primary key
ok 152 - Column task(remote) should not be a primary key
ok 153 - Table public.task should be partitioned
